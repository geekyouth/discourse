<div class="search-input">
  {{#if @inTopicContext}}
    <DButton
      @icon="times"
      @label="search.in_this_topic"
      @title="search.in_this_topic_tooltip"
      @className="btn btn-small search-context"
      @action={{@clearTopicContext}}
      @iconRight={{true}}
    />
  {{else if @inPMInboxContext}}
    <DButton
      @icon="times"
      @label="search.in_messages"
      @title="search.in_messages_tooltip"
      @className="btn btn-small search-context"
      @action={{@clearPMInboxContext}}
      @iconRight={{true}}
    />
  {{/if}}

  <SearchMenu::SearchTerm
    @searchTermChanged={{@searchTermChanged}}
    @value={{@term}}
  />

  {{#if @loading}}
    <div class="searching">
      <div class="spinner">
      </div>
    </div>
  {{else}}
    <div class="searching">
      {{#if @term}}
        <a
          class="clear-search"
          aria-label="clear_input"
          title={{i18n "search.clear_search"}}
          href
          {{on "click" @clearSearch}}
        >
          {{d-icon "times"}}
        </a>
      {{/if}}
      <a
        class="show-advanced-search"
        title={{i18n "search.open_advanced"}}
        href={{this.advancedSearchButtonHref}}
      >
        {{d-icon "sliders-h"}}
      </a>
    </div>
  {{/if}}
</div>
